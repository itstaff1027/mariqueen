import{r as l,j as e,U as S,h as b}from"./app-B1sjvdko.js";import{A as C}from"./AuthenticatedLayout-Bmz7T_3p.js";import"./ApplicationLogo-lMO7AezW.js";const w=({onClose:o,order:r})=>{const[n,i]=l.useState(""),c=l.useRef();l.useEffect(()=>{fetch("storage/assets/jojoBragaisWW.png").then(s=>s.blob()).then(s=>{const d=new FileReader;d.onloadend=()=>{i(d.result)},d.readAsDataURL(s)}).catch(s=>console.error("Error loading image:",s))},[]);const a=()=>{const{jsPDF:s}=window.jspdf;new s({orientation:"portrait",unit:"pt",format:"a4"}).html(c.current,{callback:x=>x.save(`SalesOrder_${r.order_number}.pdf`),x:10,y:10,width:500})};return e.jsx("div",{style:{position:"fixed",inset:0,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0,0,0,0.5)",zIndex:50},children:e.jsxs("div",{style:{backgroundColor:"#fff",padding:"20px",borderRadius:"8px",width:"90%",maxWidth:"600px",boxShadow:"0 2px 10px rgba(0,0,0,0.2)"},children:[e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx("button",{onClick:o,style:{color:"red",fontSize:"14px",border:"none",background:"none"},children:"Close"})}),e.jsxs("div",{ref:c,style:{padding:"20px",color:"#000",fontSize:"12pt",backgroundColor:"#fff"},children:[e.jsxs("div",{className:"grid grid-cols-2",children:[n?e.jsx("img",{src:n,alt:"Logo",style:{maxWidth:"180px",marginBottom:"10px"}}):e.jsx("h1",{style:{fontSize:"16pt",fontWeight:"bold"},children:"Your Company Logo"}),e.jsxs("div",{className:"w-full text-right",children:[e.jsxs("h2",{style:{fontSize:"14pt",fontWeight:"bold"},children:["Closed Sale Date: ",e.jsx("u",{children:new Date(r.created_at).toLocaleDateString()})]}),e.jsxs("h2",{style:{fontSize:"14pt",fontWeight:"bold"},children:["Order #",e.jsx("u",{children:r.order_number})]})]})]}),e.jsx("div",{style:{backgroundColor:"#000",color:"#fff",textAlign:"center",padding:"10px 0",marginBottom:"20px"},children:e.jsx("h1",{style:{fontSize:"24pt",margin:0},children:r.courier.name})}),e.jsxs("div",{className:"border border-black flex flex-col mb-[15px] p-4",children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsxs("h2",{style:{fontSize:"14pt",fontWeight:"bold"},children:["Customer: ",e.jsxs("u",{children:[r.customers.first_name," ",r.customers.last_name]})]}),e.jsxs("h2",{style:{fontSize:"14pt",fontWeight:"bold"},children:["Status: ",e.jsx("u",{children:r.status})]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsxs("h2",{style:{fontSize:"14pt",fontWeight:"bold"},children:["Mobile #: ",e.jsx("u",{children:r.customers.phone})]}),e.jsxs("h2",{style:{fontSize:"14pt",fontWeight:"bold"},children:["Warehouse: ",e.jsx("u",{children:r.warehouse.name})]})]})]}),e.jsx("hr",{style:{margin:"12px 0",border:"1px solid #000"}}),e.jsx("div",{style:{border:"2px solid #000",textAlign:"center",padding:"10px",marginBottom:"10px"},children:e.jsx("h1",{style:{fontSize:"20pt",margin:0},children:"ORDER DETAILS"})}),e.jsx("hr",{style:{margin:"12px 0",border:"1px solid #000"}}),e.jsxs("table",{className:"border border-black",style:{width:"100%",borderCollapse:"collapse",marginBottom:"20px"},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{borderBottom:"1px solid #000",padding:"8px",textAlign:"left"},children:"SKU"}),e.jsx("th",{style:{borderBottom:"1px solid #000",padding:"8px",textAlign:"left"},children:"Items"}),e.jsx("th",{style:{borderBottom:"1px solid #000",padding:"8px",textAlign:"center"},children:"Qty"})]})}),e.jsx("tbody",{children:r.items.map((s,d)=>e.jsxs("tr",{children:[e.jsx("td",{style:{padding:"8px",borderBottom:"1px solid #000",textAlign:"center"},children:s.product_variant.sku}),e.jsxs("td",{style:{padding:"8px",borderBottom:"1px solid #000"},children:[s.product_variant.product.product_name," ",s.product_variant.colors.color_name," SIZE"," ",parseInt(s.product_variant.size_values.size_values)," IN"," ",s.product_variant.heel_heights.value," INCHES"]}),e.jsx("td",{style:{padding:"8px",borderBottom:"1px solid #000",textAlign:"center"},children:s.quantity})]},d))})]}),e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("div",{style:{backgroundColor:"#000",color:"#fff",textAlign:"center",padding:"10px"},children:e.jsx("h1",{style:{fontSize:"20pt",margin:0},children:"CUSTOMER DETAILS"})}),e.jsxs("div",{style:{marginTop:"10px"},children:[e.jsxs("h2",{style:{fontSize:"14pt",fontWeight:"bold"},children:["Receiver: ",r.customers.phone]}),e.jsxs("h2",{style:{fontSize:"14pt",fontWeight:"bold"},children:["Telephone/Mobile: ",r.customers.phone]}),e.jsxs("h2",{style:{fontSize:"14pt",fontWeight:"bold"},children:["Address: ",r.customers.address]})]})]})]}),e.jsx("div",{style:{marginTop:"16px",textAlign:"center"},children:e.jsx("button",{onClick:a,style:{backgroundColor:"#000",color:"#fff",padding:"10px 20px",borderRadius:"4px",border:"none",cursor:"pointer",fontSize:"14px"},children:"Download PDF"})})]})})},A=({sales_orders:o})=>{const[r,n]=l.useState(""),[i,c]=l.useState(""),[a,s]=l.useState(""),[d,x]=l.useState(""),[h,g]=l.useState(""),[m,u]=l.useState(null),j=()=>{b.visit("/inventory_orders",{method:"get",data:{trackingNumber:i,status:a,search:r,fromDate:d,toDate:h},preserveState:!0,preserveScroll:!0})},y=t=>{u(t)},f=()=>{u(null)};return l.useEffect(()=>{console.log(o)},[]),e.jsxs(C,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Sales Orders"}),children:[e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden bg-white shadow-md rounded-lg",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"container mx-auto p-6",children:[e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsx("h1",{className:"text-2xl font-bold",children:"Sales Order"})}),e.jsxs("div",{className:"col-span-3 mb-4 grid grid-cols-1 gap-3 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-6",children:[e.jsxs("select",{value:a||"",className:"rounded-md border p-2 shadow-sm focus:outline-none",onChange:t=>s(t.target.value),children:[e.jsx("option",{value:"",children:"Status"}),e.jsx("option",{value:"paid",children:"Paid"}),e.jsx("option",{value:"preparing",children:"Preparing"}),e.jsx("option",{value:"shipped",children:"Shipped"}),e.jsx("option",{value:"delivered",children:"Delivered"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"From Date:"}),e.jsx("input",{type:"date",value:d,onChange:t=>x(t.target.value),className:"border rounded p-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"To Date:"}),e.jsx("input",{type:"date",value:h,onChange:t=>g(t.target.value),className:"border rounded p-2"})]}),e.jsx("button",{onClick:j,className:"bg-blue-500 text-white px-4 py-2 rounded shadow hover:bg-blue-600",children:"Filter"})]}),e.jsx("input",{type:"text",placeholder:"Search for Order Number, Customer Name, Tracking #",className:"w-full rounded-md border p-2 mb-2",value:r,onChange:t=>n(t.target.value)}),e.jsxs("table",{className:"w-full table-auto border-collapse border border-gray-300",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100",children:[e.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"#"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Order #"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Client Name"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Tracking #"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Status"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Total Cost"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Payment"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Action"})]})}),e.jsx("tbody",{children:o.data.map((t,p)=>e.jsxs("tr",{children:[e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:p+1}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:t.order_number}),e.jsxs("td",{className:"border border-gray-300 px-4 py-2",children:[t.customers.first_name," ",t.customers.last_name]}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:t.tracking_number?t.tracking_number:"No Tracking # added yet."}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:t.status}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:t.grand_amount}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:t.payments.reduce((v,N)=>v+parseFloat(N.amount_paid,2),0).toFixed(2)}),e.jsxs("td",{className:"border border-gray-300 px-6 py-3 space-x-2",children:[e.jsx(S,{href:`/inventory_orders/${t.id}`,className:"text-emerald-500 hover:underline",children:"View"}),e.jsx("button",{onClick:()=>y(t),className:"p-2 rounded-xl text-red-500 hover:underline",children:"Print"})]})]},t.id))})]}),o.links&&e.jsx("div",{className:"mt-4 flex justify-center",children:o.links.map((t,p)=>e.jsx("button",{onClick:()=>{t.url&&b.visit(t.url,{preserveState:!0,preserveScroll:!0})},className:`mx-1 px-3 py-1 border rounded ${t.active?"bg-blue-500 text-white":"bg-white text-blue-500"}`,dangerouslySetInnerHTML:{__html:t.label}},p))})]})})})})}),m&&e.jsx(w,{order:m,onClose:f})]})};export{A as default};
