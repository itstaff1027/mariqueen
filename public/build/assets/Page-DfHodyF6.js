import{r as l,j as e,U as S,h as b}from"./app-f0nE6TeN.js";import{A as w}from"./AuthenticatedLayout-DVY7Bfvv.js";import"./ApplicationLogo-XGu9A9TJ.js";const k=({onClose:d,order:s})=>{var n;const[h,c]=l.useState(""),x=l.useRef();l.useEffect(()=>{fetch("storage/assets/jojoBragaisWW.png").then(r=>r.blob()).then(r=>{const a=new FileReader;a.onloadend=()=>{c(a.result)},a.readAsDataURL(r)}).catch(r=>console.error("Error loading image:",r))},[]);const o=()=>{const{jsPDF:r}=window.jspdf;new r({orientation:"portrait",unit:"pt",format:"a4"}).html(x.current,{callback:i=>i.save(`SalesOrder_${s.order_number}.pdf`),x:10,y:10,width:500})};return e.jsx("div",{style:{position:"fixed",inset:0,alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0,0,0,0.5)",zIndex:50},className:"overflow-auto",children:e.jsxs("div",{style:{backgroundColor:"#fff",padding:"20px",borderRadius:"8px",width:"90%",maxWidth:"600px",boxShadow:"0 2px 10px rgba(0,0,0,0.2)"},children:[e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx("button",{onClick:d,style:{color:"red",fontSize:"14px",border:"none",background:"none"},children:"Close"})}),e.jsxs("div",{ref:x,style:{padding:"20px",color:"#000",fontSize:"12pt",backgroundColor:"#fff"},children:[e.jsx("div",{className:"grid grid-cols-2",children:e.jsxs("div",{className:"w-full text-right",children:[e.jsxs("h2",{style:{fontSize:"14pt",fontWeight:"bold"},children:["Closed Sale Date:"," ",e.jsx("u",{children:new Date(s.created_at).toLocaleDateString()})]}),e.jsxs("h2",{style:{fontSize:"14pt",fontWeight:"bold"},children:["Order #",e.jsx("u",{children:s.order_number})]})]})}),e.jsx("div",{style:{backgroundColor:"#000",color:"#fff",textAlign:"center",padding:"10px 0",marginBottom:"20px"},children:e.jsx("h1",{style:{fontSize:"24pt",margin:0},children:s.courier.name})}),e.jsxs("div",{className:"mb-[15px] flex flex-col border border-black p-4",children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsxs("h2",{style:{fontSize:"14pt",fontWeight:"bold"},children:["Customer:"," ",e.jsxs("u",{children:[s.customers.first_name," ",s.customers.last_name]})]}),e.jsxs("h2",{style:{fontSize:"14pt",fontWeight:"bold"},children:["Status: ",e.jsx("u",{children:s.status})]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsxs("h2",{style:{fontSize:"14pt",fontWeight:"bold"},children:["Mobile #: ",e.jsx("u",{children:s.customers.phone})]}),e.jsxs("h2",{style:{fontSize:"14pt",fontWeight:"bold"},children:["Warehouse: ",e.jsx("u",{children:s.warehouse.name})]})]})]}),e.jsx("hr",{style:{margin:"12px 0",border:"1px solid #000"}}),e.jsx("div",{style:{border:"2px solid #000",textAlign:"center",padding:"10px",marginBottom:"10px"},children:e.jsx("h1",{style:{fontSize:"20pt",margin:0},children:"ORDER DETAILS"})}),e.jsx("hr",{style:{margin:"12px 0",border:"1px solid #000"}}),e.jsxs("table",{className:"border border-black",style:{width:"100%",borderCollapse:"collapse",marginBottom:"20px"},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{borderBottom:"1px solid #000",padding:"8px",textAlign:"left"},children:"SKU"}),e.jsx("th",{style:{borderBottom:"1px solid #000",padding:"8px",textAlign:"left"},children:"Items"}),e.jsx("th",{style:{borderBottom:"1px solid #000",padding:"8px",textAlign:"center"},children:"Qty"})]})}),e.jsx("tbody",{children:s.items.map((r,a)=>e.jsxs("tr",{children:[e.jsx("td",{style:{padding:"8px",borderBottom:"1px solid #000",textAlign:"center"},children:r.product_variant.sku}),e.jsxs("td",{style:{padding:"8px",borderBottom:"1px solid #000"},children:[r.product_variant.product.product_name," ",r.product_variant.colors.color_name," ","SIZE"," ",parseInt(r.product_variant.size_values.size_values)," ","IN"," ",r.product_variant.heel_heights.value," ","INCHES"]}),e.jsx("td",{style:{padding:"8px",borderBottom:"1px solid #000",textAlign:"center"},children:r.quantity})]},a))})]}),e.jsxs("div",{className:"w-full border border-black p-2",style:{fontWeight:"bold"},children:["Packaging Type: ",(n=s.packaging_type)==null?void 0:n.packaging_name]}),e.jsxs("div",{className:"w-full border border-black p-2",style:{fontWeight:"bold"},children:["Shipping Cost: ",s.shipping_cost," - Shoulder By: ",s.shoulder_by]}),e.jsxs("div",{className:"w-full border border-black p-2",style:{fontWeight:"bold"},children:["Remarks: ",s.remarks]}),e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("div",{style:{backgroundColor:"#000",color:"#fff",textAlign:"center",padding:"10px"},children:e.jsx("h1",{style:{fontSize:"20pt",margin:0},children:"CUSTOMER DETAILS"})}),e.jsxs("div",{style:{marginTop:"10px"},children:[e.jsxs("h2",{className:"w-full border border-black p-2",style:{fontSize:"14pt",fontWeight:"bold",border:"1px solid #000"},children:["Receiver: ",s.customers.phone]}),e.jsxs("h2",{className:"w-full border border-black p-2",style:{fontSize:"14pt",fontWeight:"bold",border:"1px solid #000"},children:["Mobile #: ",s.customers.phone]}),e.jsxs("h2",{className:"w-full border border-black p-2",style:{fontSize:"14pt",fontWeight:"bold",border:"1px solid #000"},children:["Address: ",s.customers.address]}),e.jsxs("h2",{className:"w-full border border-black p-2",style:{fontSize:"14pt",fontWeight:"bold",border:"1px solid #000"},children:["SOCMED: ",s.customers.social_media_account]})]})]})]}),e.jsx("div",{style:{marginTop:"16px",textAlign:"center"},children:e.jsx("button",{onClick:o,style:{backgroundColor:"#000",color:"#fff",padding:"10px 20px",borderRadius:"4px",border:"none",cursor:"pointer",fontSize:"14px"},children:"Download PDF"})})]})})},z=({sales_orders:d})=>{const[s,h]=l.useState(""),[c,x]=l.useState(""),[o,n]=l.useState(""),[r,a]=l.useState(""),[i,g]=l.useState(""),[u,m]=l.useState(null),j=()=>{b.visit("/inventory_orders",{method:"get",data:{trackingNumber:c,status:o,search:s,fromDate:r,toDate:i},preserveState:!0,preserveScroll:!0})},f=t=>{m(t)},y=()=>{m(null)};return l.useEffect(()=>{console.log(d)},[]),e.jsxs(w,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Sales Orders"}),children:[e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden bg-white shadow-md rounded-lg",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"container mx-auto p-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-md space-y-6 w-full mb-2",children:[e.jsxs("div",{className:"flex flex-col w-full justify-between md:flex-row md:justify-betweem md:items-center gap-4",children:[e.jsx("h1",{className:"text-3xl w-full font-semibold",children:"Sales Order"}),e.jsx("div",{className:"flex flex-wrap gap-3 justify-end w-full"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 items-end",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),e.jsxs("select",{value:o||"",className:"rounded-md border p-2 shadow-sm focus:outline-none w-full",onChange:t=>n(t.target.value),children:[e.jsx("option",{value:"",children:"Status"}),e.jsx("option",{value:"paid",children:"Paid"}),e.jsx("option",{value:"preparing",children:"Preparing"}),e.jsx("option",{value:"shipped",children:"Shipped"}),e.jsx("option",{value:"delivered",children:"Delivered"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"From Date:"}),e.jsx("input",{type:"date",value:r,onChange:t=>a(t.target.value),className:"border w-full rounded p-2"})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"To Date:"}),e.jsx("input",{type:"date",value:i,onChange:t=>g(t.target.value),className:"border w-full rounded p-2"})]}),e.jsx("button",{onClick:j,className:"bg-blue-500 text-white px-4 py-2 rounded shadow hover:bg-blue-600",children:"Filter"})]}),e.jsx("div",{className:"w-full relative m-0",children:e.jsx("input",{type:"text",placeholder:"Search for Order Number, Customer Name, or Status",className:"w-full absolute -translate-y-1/2 text-gray-400",value:s,onChange:t=>h(t.target.value)})})]}),e.jsxs("table",{className:"w-full table-auto border-collapse border border-gray-300",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100",children:[e.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"#"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Order #"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Client Name"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Tracking #"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Status"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Total Cost"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Payment"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Action"})]})}),e.jsx("tbody",{children:d.data.map((t,p)=>e.jsxs("tr",{children:[e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:p+1}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:t.order_number}),e.jsxs("td",{className:"border border-gray-300 px-4 py-2",children:[t.customers.first_name," ",t.customers.last_name]}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:t.tracking_number?t.tracking_number:"No Tracking # added yet."}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:t.status}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:t.grand_amount}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:t.payments.reduce((v,N)=>v+parseFloat(N.amount_paid,2),0).toFixed(2)}),e.jsxs("td",{className:"border border-gray-300 px-6 py-3 space-x-2",children:[e.jsx(S,{href:`/inventory_orders/${t.id}`,className:"text-emerald-500 hover:underline",children:"View"}),e.jsx("button",{onClick:()=>f(t),className:"p-2 rounded-xl text-red-500 hover:underline",children:"Print"})]})]},t.id))})]}),d.links&&e.jsx("div",{className:"mt-4 flex justify-center",children:d.links.map((t,p)=>e.jsx("button",{onClick:()=>{t.url&&b.visit(t.url,{preserveState:!0,preserveScroll:!0})},className:`mx-1 px-3 py-1 border rounded ${t.active?"bg-blue-500 text-white":"bg-white text-blue-500"}`,dangerouslySetInnerHTML:{__html:t.label}},p))})]})})})})}),u&&e.jsx(k,{order:u,onClose:y})]})};export{z as default};
