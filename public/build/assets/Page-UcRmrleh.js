import{a as g,r as x,j as e}from"./app-QVnGVJj3.js";import{A as h}from"./AuthenticatedLayout-MkJGPHYv.js";import"./ApplicationLogo-CAYc3vXU.js";const N=({routes:i,role:l})=>{const{data:t,setData:d,post:r,errors:b}=g({role_id:l.id||"",assigned_routes:l.routes.map(s=>s.route_name)||[]}),n=i.slice().sort((s,o)=>s.name.localeCompare(o.name)),c=s=>{s.preventDefault(),console.log(t),r("/admin-routes")},m=()=>{const s=n.map(a=>a.name);s.every(a=>t.assigned_routes.includes(a))&&t.assigned_routes.length===s.length?d("assigned_routes",[]):d("assigned_routes",s)};return x.useEffect(()=>{console.log(n),console.log(l.routes)},[n,l]),e.jsx(h,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Edit Role"}),children:e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-4xl sm:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden bg-white shadow-md rounded-lg",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Edit Role"}),e.jsxs("form",{onSubmit:c,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"role-name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Role Name"}),e.jsx("input",{id:"role-name",type:"text",value:l.name,disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-400"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"permissions",className:"block text-sm font-medium text-gray-700 mb-2",children:"Routes"}),e.jsx("div",{className:"mb-4",children:e.jsx("button",{type:"button",onClick:m,className:"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-400",children:"Select All"})}),e.jsx("div",{id:"routes",className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(s=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:`route-${s.id}`,value:s.name,checked:t.assigned_routes.includes(s.name),onChange:o=>{const a=o.target.checked?[...t.assigned_routes,s.name]:t.assigned_routes.filter(u=>u!==s.name);d("assigned_routes",a)},className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:`route-${s.id}`,className:"ml-2 text-sm text-gray-700",children:s.name})]},s.id))})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-500 text-white font-medium rounded-lg shadow hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-2",children:"Save Changes"})})]})]})})})})})};export{N as default};
