import{a as f,j as e}from"./app-CiGQRRy8.js";import{A as j}from"./AuthenticatedLayout-BnMxpnkc.js";import{I as o}from"./InputLabel-Dh8TdxCL.js";import{I as n}from"./InputError-Br-gXGtJ.js";import"./ApplicationLogo-TjhQzT5_.js";const W=({warehouses:c,users:l,assignedUsers:v})=>{const{data:a,setData:i,post:m,delete:N,processing:u,errors:t}=f({warehouse_id:0,user_ids:[]}),x=s=>{i("warehouse_id",s.target.value)},h=s=>{a.user_ids.includes(s.id)||i("user_ids",[...a.user_ids,s.id])},g=s=>{i("user_ids",a.user_ids.filter(d=>d!==s))},p=s=>{s.preventDefault(),console.log(a),m(`/inventory/warehouses/${a.warehouse_id}/assign-users`)};return e.jsx(j,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Assign Users to Warehouses"}),children:e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden bg-white shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6 text-gray-900",children:[e.jsx("h1",{className:"text-xl font-semibold mb-6",children:"Manage Warehouse Users"}),e.jsxs("div",{className:"mb-6",children:[e.jsx(o,{value:"Select Warehouse"}),e.jsxs("select",{value:a.warehouse_id,onChange:x,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[e.jsx("option",{value:"",disabled:!0,children:"Select a Warehouse"}),c.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]}),e.jsx(n,{message:t.warehouse_id})]}),e.jsxs("form",{onSubmit:p,className:"mb-8",children:[e.jsx(o,{value:"Assign Users to Warehouse"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:a.user_ids.map((s,d)=>{const r=l.find(b=>b.id===s);return e.jsxs("span",{className:"flex items-center bg-blue-100 text-blue-700 px-3 py-1 rounded-full",children:[r==null?void 0:r.name,e.jsx("button",{className:"ml-2 text-red-500 hover:text-red-700",onClick:()=>g(s),"aria-label":`Remove ${r==null?void 0:r.name}`,children:"Ã—"})]},d)})}),e.jsx("div",{className:"grid grid-cols-4 gap-4",children:l.map((s,d)=>e.jsx("button",{onClick:()=>h(s),className:`border px-4 py-2 rounded-lg text-center text-sm font-medium transition ${a.user_ids.includes(s.id)?"bg-gray-200 text-gray-400 cursor-not-allowed":"hover:bg-blue-100 hover:border-blue-400"}`,disabled:a.user_ids.includes(s.id),children:s.name},d))}),e.jsx(n,{message:t.user_ids}),e.jsx("button",{type:"submit",className:"mt-4 bg-emerald-500 hover:bg-emerald-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",disabled:u,children:"Assign Users"})]})]})})})})})};export{W as default};
