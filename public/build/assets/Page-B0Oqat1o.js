import{a as b,j as e}from"./app-CCafkY1E.js";import{A as g}from"./AuthenticatedLayout-odc7iwR6.js";import{I as j}from"./InputLabel-C7ZDeeAP.js";import{I as f}from"./InputError-DUYCfAcs.js";import"./ApplicationLogo-BL6nlEVA.js";const _=({warehouse:t,users:n,assignedUsers:i})=>{const{data:l,setData:r,post:o,delete:m,processing:d,errors:c}=b({warehouse_id:t.id,user_ids:i.map(s=>s.id)||[]}),x=s=>{r("user_ids",a=>a.includes(s)?a.filter(p=>p!==s):[...a,s])},h=s=>{s.preventDefault(),o(`/inventory/warehouses/${t.id}/assign-users`)},u=s=>{m(`/inventory/warehouses/${t.id}/remove-user/${s}`)};return e.jsx(g,{header:e.jsxs("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:["Assign Users to ",t.name]}),children:e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden bg-white shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6 text-gray-900",children:[e.jsx("h1",{className:"text-xl font-semibold mb-6",children:"Manage Warehouse Users"}),e.jsxs("form",{onSubmit:h,children:[e.jsx(j,{value:"Select Users to Assign"}),e.jsx("div",{className:"mb-6",children:n.map(s=>e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("input",{type:"checkbox",id:`user-${s.id}`,value:s.id,checked:l.user_ids.includes(s.id),onChange:()=>x(s.id),className:"mr-2"}),e.jsx("label",{htmlFor:`user-${s.id}`,className:"text-gray-700",children:s.name})]},s.id))}),e.jsx(f,{message:c.user_ids}),e.jsx("button",{type:"submit",className:"bg-emerald-500 hover:bg-emerald-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",disabled:d,children:"Assign Users"})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Assigned Users"}),i.length>0?e.jsx("ul",{children:i.map(s=>e.jsxs("li",{className:"flex justify-between items-center border-b py-2",children:[e.jsx("span",{children:s.name}),e.jsx("button",{onClick:()=>u(s.id),className:"bg-red-500 hover:bg-red-700 text-white text-sm px-3 py-1 rounded",disabled:d,children:"Remove"})]},s.id))}):e.jsx("p",{className:"text-gray-500",children:"No users assigned."})]})]})})})})})};export{_ as default};
