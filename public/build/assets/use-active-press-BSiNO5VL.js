import{r as u}from"./app-CNtLemjm.js";import{u as d}from"./owner-B14CThBL.js";import{p as m}from"./transition-BHL_Jt7j.js";import{o as p}from"./use-sync-refs-Bn8sev2R.js";function g(t){let e=t.width/2,n=t.height/2;return{top:t.clientY-n,right:t.clientX+e,bottom:t.clientY+n,left:t.clientX-e}}function h(t,e){return!(!t||!e||t.right<e.left||t.left>e.right||t.bottom<e.top||t.top>e.bottom)}function w({disabled:t=!1}={}){let e=u.useRef(null),[n,i]=u.useState(!1),r=m(),o=p(()=>{e.current=null,i(!1),r.dispose()}),f=p(s=>{if(r.dispose(),e.current===null){e.current=s.currentTarget,i(!0);{let l=d(s.currentTarget);r.addEventListener(l,"pointerup",o,!1),r.addEventListener(l,"pointermove",c=>{if(e.current){let a=g(c);i(h(a,e.current.getBoundingClientRect()))}},!1),r.addEventListener(l,"pointercancel",o,!1)}}});return{pressed:n,pressProps:t?{}:{onPointerDown:f,onPointerUp:o,onClick:o}}}export{w};
