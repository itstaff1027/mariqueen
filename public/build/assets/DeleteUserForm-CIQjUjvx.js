import{r as c,R as m,j as d,a as Ce}from"./app-DoeFD_x_.js";import{I as je}from"./InputError-CmPX5MDB.js";import{I as Ie}from"./InputLabel-CgfVJnCL.js";import{x as B,u as Le,f as Pe,E as ue,o as Re,n as ie,a as Ne,b as M,P as R,F as $,c as X,s as J,d as Se,I as E,T as ee,t as Me,e as Oe,R as Ae,g as Be,h as He,m as Ue,l as te,r as Ye,X as ze,C as Ve,O as ne}from"./use-tab-direction-CflQxYAH.js";import{n as ce,o as D,K as L,y as H,u as V,L as S,O as re}from"./use-sync-refs-nQlUzKFb.js";import{o as We,l as de,p as qe,f as fe,t as me,u as pe,i as O,s as Ge,z as ge,F as A}from"./transition-aYCiGrMB.js";import{H as Ke,w as Ze}from"./description-TemsyZR1.js";import{T as _e}from"./TextInput-DBGWza4s.js";let W=new Map,N=new Map;function oe(e){var t;let n=(t=N.get(e))!=null?t:0;return N.set(e,n+1),n!==0?()=>ae(e):(W.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>ae(e))}function ae(e){var t;let n=(t=N.get(e))!=null?t:1;if(n===1?N.delete(e):N.set(e,n-1),n!==1)return;let r=W.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,W.delete(e))}function Qe(e,{allowed:t,disallowed:n}={}){let r=B(e,"inert-others");ce(()=>{var o,l;if(!r)return;let s=We();for(let u of(o=n==null?void 0:n())!=null?o:[])u&&s.add(oe(u));let a=(l=t==null?void 0:t())!=null?l:[];for(let u of a){if(!u)continue;let i=Le(u);if(!i)continue;let f=u.parentElement;for(;f&&f!==i.body;){for(let v of f.children)a.some(x=>v.contains(x))||s.add(oe(v));f=f.parentElement}}return s.dispose},[r,t,n])}function q(e,t){let n=c.useRef([]),r=D(e);c.useEffect(()=>{let o=[...n.current];for(let[l,s]of t.entries())if(n.current[l]!==s){let a=r(t,o);return n.current=t,a}},[r,...t])}function Xe(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let T=[];Xe(()=>{function e(t){if(!(t.target instanceof HTMLElement)||t.target===document.body||T[0]===t.target)return;let n=t.target;n=n.closest(Pe),T.unshift(n??t.target),T=T.filter(r=>r!=null&&r.isConnected),T.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function Je(e,t=typeof document<"u"?document.defaultView:null,n){let r=B(e,"escape");ue(t,"keydown",o=>{r&&(o.defaultPrevented||o.key===Re.Escape&&n(o))})}function et(){var e;let[t]=c.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=c.useState((e=t==null?void 0:t.matches)!=null?e:!1);return ce(()=>{if(!t)return;function o(l){r(l.matches)}return t.addEventListener("change",o),()=>t.removeEventListener("change",o)},[t]),n}function we(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)n.current instanceof HTMLElement&&t.add(n.current);return t}let tt="div";var j=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(j||{});function nt(e,t){let n=c.useRef(null),r=H(n,t),{initialFocus:o,initialFocusFallback:l,containers:s,features:a=15,...u}=e;de()||(a=0);let i=ie(n);lt(a,{ownerDocument:i});let f=st(a,{ownerDocument:i,container:n,initialFocus:o,initialFocusFallback:l});ut(a,{ownerDocument:i,container:n,containers:s,previousActiveElement:f});let v=Ne(),x=D(w=>{let F=n.current;F&&(y=>y())(()=>{V(v.current,{[M.Forwards]:()=>{R(F,$.First,{skipElements:[w.relatedTarget,l]})},[M.Backwards]:()=>{R(F,$.Last,{skipElements:[w.relatedTarget,l]})}})})}),h=B(!!(a&2),"focus-trap#tab-lock"),p=qe(),k=c.useRef(!1),C={ref:r,onKeyDown(w){w.key=="Tab"&&(k.current=!0,p.requestAnimationFrame(()=>{k.current=!1}))},onBlur(w){if(!(a&4))return;let F=we(s);n.current instanceof HTMLElement&&F.add(n.current);let y=w.relatedTarget;y instanceof HTMLElement&&y.dataset.headlessuiFocusGuard!=="true"&&(he(F,y)||(k.current?R(n.current,V(v.current,{[M.Forwards]:()=>$.Next,[M.Backwards]:()=>$.Previous})|$.WrapAround,{relativeTo:w.target}):w.target instanceof HTMLElement&&E(w.target)))}},b=S();return m.createElement(m.Fragment,null,h&&m.createElement(X,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:x,features:J.Focusable}),b({ourProps:C,theirProps:u,defaultTag:tt,name:"FocusTrap"}),h&&m.createElement(X,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:x,features:J.Focusable}))}let rt=L(nt),ot=Object.assign(rt,{features:j});function at(e=!0){let t=c.useRef(T.slice());return q(([n],[r])=>{r===!0&&n===!1&&me(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=T.slice())},[e,T,t]),D(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function lt(e,{ownerDocument:t}){let n=!!(e&8),r=at(n);q(()=>{n||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&E(r())},[n]),Se(()=>{n&&E(r())})}function st(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:o}){let l=c.useRef(null),s=B(!!(e&1),"focus-trap#initial-focus"),a=fe();return q(()=>{if(e===0)return;if(!s){o!=null&&o.current&&E(o.current);return}let u=n.current;u&&me(()=>{if(!a.current)return;let i=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===i){l.current=i;return}}else if(u.contains(i)){l.current=i;return}if(r!=null&&r.current)E(r.current);else{if(e&16){if(R(u,$.First|$.AutoFocus)!==ee.Error)return}else if(R(u,$.First)!==ee.Error)return;if(o!=null&&o.current&&(E(o.current),(t==null?void 0:t.activeElement)===o.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}l.current=t==null?void 0:t.activeElement})},[o,s,e]),l}function ut(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:o}){let l=fe(),s=!!(e&4);ue(t==null?void 0:t.defaultView,"focus",a=>{if(!s||!l.current)return;let u=we(r);n.current instanceof HTMLElement&&u.add(n.current);let i=o.current;if(!i)return;let f=a.target;f&&f instanceof HTMLElement?he(u,f)?(o.current=f,E(f)):(a.preventDefault(),a.stopPropagation(),E(i)):E(o.current)},!0)}function he(e,t){for(let n of e)if(n.contains(t))return!0;return!1}var it=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(it||{}),ct=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(ct||{});let dt={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},G=c.createContext(null);G.displayName="DialogContext";function U(e){let t=c.useContext(G);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,U),n}return t}function ft(e,t){return V(t.type,dt,e,t)}let le=L(function(e,t){let n=c.useId(),{id:r=`headlessui-dialog-${n}`,open:o,onClose:l,initialFocus:s,role:a="dialog",autoFocus:u=!0,__demoMode:i=!1,unmount:f=!1,...v}=e,x=c.useRef(!1);a=function(){return a==="dialog"||a==="alertdialog"?a:(x.current||(x.current=!0,console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let h=pe();o===void 0&&h!==null&&(o=(h&O.Open)===O.Open);let p=c.useRef(null),k=H(p,t),C=ie(p),b=o?0:1,[w,F]=c.useReducer(ft,{titleId:null,descriptionId:null,panelRef:c.createRef()}),y=D(()=>l(!1)),K=D(g=>F({type:0,id:g})),I=de()?b===0:!1,[ve,xe]=Me(),be={get current(){var g;return(g=w.panelRef.current)!=null?g:p.current}},Y=Oe(),{resolveContainers:z}=Ae({mainTreeNode:Y,portals:ve,defaultContainers:[be]}),Z=h!==null?(h&O.Closing)===O.Closing:!1;Qe(i||Z?!1:I,{allowed:D(()=>{var g,Q;return[(Q=(g=p.current)==null?void 0:g.closest("[data-headlessui-portal]"))!=null?Q:null]}),disallowed:D(()=>{var g;return[(g=Y==null?void 0:Y.closest("body > *:not(#headlessui-portal-root)"))!=null?g:null]})}),Be(I,z,g=>{g.preventDefault(),y()}),Je(I,C==null?void 0:C.defaultView,g=>{g.preventDefault(),g.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),y()}),He(i||Z?!1:I,C,z),Ue(I,p,y);let[Ee,Fe]=Ze(),$e=c.useMemo(()=>[{dialogState:b,close:y,setTitleId:K,unmount:f},w],[b,w,y,K,f]),_=c.useMemo(()=>({open:b===0}),[b]),Te={ref:k,id:r,role:a,tabIndex:-1,"aria-modal":i?void 0:b===0?!0:void 0,"aria-labelledby":w.titleId,"aria-describedby":Ee,unmount:f},De=!et(),P=j.None;I&&!i&&(P|=j.RestoreFocus,P|=j.TabLock,u&&(P|=j.AutoFocus),De&&(P|=j.InitialFocus));let ke=S();return m.createElement(Ge,null,m.createElement(te,{force:!0},m.createElement(Ye,null,m.createElement(G.Provider,{value:$e},m.createElement(ze,{target:p},m.createElement(te,{force:!1},m.createElement(Fe,{slot:_},m.createElement(xe,null,m.createElement(ot,{initialFocus:s,initialFocusFallback:p,containers:z,features:P},m.createElement(Ve,{value:y},ke({ourProps:Te,theirProps:v,slot:_,defaultTag:mt,features:pt,visible:b===0,name:"Dialog"})))))))))))}),mt="div",pt=re.RenderStrategy|re.Static;function gt(e,t){let{transition:n=!1,open:r,...o}=e,l=pe(),s=e.hasOwnProperty("open")||l!==null,a=e.hasOwnProperty("onClose");if(!s&&!a)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!s)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!a)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!l&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!o.static?m.createElement(ne,null,m.createElement(ge,{show:r,transition:n,unmount:o.unmount},m.createElement(le,{ref:t,...o}))):m.createElement(ne,null,m.createElement(le,{ref:t,open:r,...o}))}let wt="div";function ht(e,t){let n=c.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:o=!1,...l}=e,[{dialogState:s,unmount:a},u]=U("Dialog.Panel"),i=H(t,u.panelRef),f=c.useMemo(()=>({open:s===0}),[s]),v=D(C=>{C.stopPropagation()}),x={ref:i,id:r,onClick:v},h=o?A:c.Fragment,p=o?{unmount:a}:{},k=S();return m.createElement(h,{...p},k({ourProps:x,theirProps:l,slot:f,defaultTag:wt,name:"Dialog.Panel"}))}let yt="div";function vt(e,t){let{transition:n=!1,...r}=e,[{dialogState:o,unmount:l}]=U("Dialog.Backdrop"),s=c.useMemo(()=>({open:o===0}),[o]),a={ref:t,"aria-hidden":!0},u=n?A:c.Fragment,i=n?{unmount:l}:{},f=S();return m.createElement(u,{...i},f({ourProps:a,theirProps:r,slot:s,defaultTag:yt,name:"Dialog.Backdrop"}))}let xt="h2";function bt(e,t){let n=c.useId(),{id:r=`headlessui-dialog-title-${n}`,...o}=e,[{dialogState:l,setTitleId:s}]=U("Dialog.Title"),a=H(t);c.useEffect(()=>(s(r),()=>s(null)),[r,s]);let u=c.useMemo(()=>({open:l===0}),[l]),i={ref:a,id:r};return S()({ourProps:i,theirProps:o,slot:u,defaultTag:xt,name:"Dialog.Title"})}let Et=L(gt),ye=L(ht);L(vt);let Ft=L(bt),$t=Object.assign(Et,{Panel:ye,Title:Ft,Description:Ke});function se({className:e="",disabled:t,children:n,...r}){return d.jsx("button",{...r,className:`inline-flex items-center rounded-md border border-transparent bg-red-600 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition duration-150 ease-in-out hover:bg-red-500 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 active:bg-red-700 ${t&&"opacity-25"} `+e,disabled:t,children:n})}function Tt({children:e,show:t=!1,maxWidth:n="2xl",closeable:r=!0,onClose:o=()=>{}}){const l=()=>{r&&o()},s={sm:"sm:max-w-sm",md:"sm:max-w-md",lg:"sm:max-w-lg",xl:"sm:max-w-xl","2xl":"sm:max-w-2xl"}[n];return d.jsx(ge,{show:t,leave:"duration-200",children:d.jsxs($t,{as:"div",id:"modal",className:"fixed inset-0 z-50 flex transform items-center overflow-y-auto px-4 py-6 transition-all sm:px-0",onClose:l,children:[d.jsx(A,{enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:d.jsx("div",{className:"absolute inset-0 bg-gray-500/75"})}),d.jsx(A,{enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:d.jsx(ye,{className:`mb-6 transform overflow-hidden rounded-lg bg-white shadow-xl transition-all sm:mx-auto sm:w-full ${s}`,children:e})})]})})}function Dt({type:e="button",className:t="",disabled:n,children:r,...o}){return d.jsx("button",{...o,type:e,className:`inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-xs font-semibold uppercase tracking-widest text-gray-700 shadow-sm transition duration-150 ease-in-out hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-25 ${n&&"opacity-25"} `+t,disabled:n,children:r})}function St({className:e=""}){const[t,n]=c.useState(!1),r=c.useRef(),{data:o,setData:l,delete:s,processing:a,reset:u,errors:i,clearErrors:f}=Ce({password:""}),v=()=>{n(!0)},x=p=>{p.preventDefault(),s(route("profile.destroy"),{preserveScroll:!0,onSuccess:()=>h(),onError:()=>r.current.focus(),onFinish:()=>u()})},h=()=>{n(!1),f(),u()};return d.jsxs("section",{className:`space-y-6 ${e}`,children:[d.jsxs("header",{children:[d.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Delete Account"}),d.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Once your account is deleted, all of its resources and data will be permanently deleted. Before deleting your account, please download any data or information that you wish to retain."})]}),d.jsx(se,{onClick:v,children:"Delete Account"}),d.jsx(Tt,{show:t,onClose:h,children:d.jsxs("form",{onSubmit:x,className:"p-6",children:[d.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Are you sure you want to delete your account?"}),d.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Once your account is deleted, all of its resources and data will be permanently deleted. Please enter your password to confirm you would like to permanently delete your account."}),d.jsxs("div",{className:"mt-6",children:[d.jsx(Ie,{htmlFor:"password",value:"Password",className:"sr-only"}),d.jsx(_e,{id:"password",type:"password",name:"password",ref:r,value:o.password,onChange:p=>l("password",p.target.value),className:"mt-1 block w-3/4",isFocused:!0,placeholder:"Password"}),d.jsx(je,{message:i.password,className:"mt-2"})]}),d.jsxs("div",{className:"mt-6 flex justify-end",children:[d.jsx(Dt,{onClick:h,children:"Cancel"}),d.jsx(se,{className:"ms-3",disabled:a,children:"Delete Account"})]})]})})]})}export{St as default};
