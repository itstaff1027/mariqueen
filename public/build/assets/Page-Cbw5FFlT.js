import{r as l,j as e,U as S,h as u}from"./app-U7VWqw3r.js";import{A as w}from"./AuthenticatedLayout-CFH8F4lI.js";import"./ApplicationLogo-BgR0BlxV.js";const C=({onClose:a,order:s})=>{const d=l.useRef(),i=()=>{const{jsPDF:r}=window.jspdf;new r({orientation:"portrait",unit:"pt",format:"a4"}).html(d.current,{callback:function(o){o.save(`SalesOrder_${s.order_number}.pdf`)},x:10,y:10,width:500})};return e.jsx("div",{style:{position:"fixed",inset:0,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0,0,0,0.5)",zIndex:50},children:e.jsxs("div",{style:{backgroundColor:"#fff",padding:"16px",borderRadius:"4px",width:"90%",maxWidth:"600px"},children:[e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx("button",{onClick:a,style:{color:"red",fontSize:"14px"},children:"Close"})}),e.jsxs("div",{ref:d,style:{padding:"16px",color:"#000",fontSize:"12pt",backgroundColor:"#fff"},children:[e.jsxs("h2",{className:"underline",style:{fontSize:"10pt",fontWeight:"bold",marginBottom:"12px"},children:["Closed Sale Date: ",Date(s.created_at)]}),e.jsx("div",{className:"bg-black w-full flex justify-center items-center text-white text-4xl",children:e.jsx("h1",{className:"mb-8",children:s.courier.name})}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("h2",{className:"underline",style:{fontSize:"14pt",fontWeight:"bold",marginBottom:"12px"},children:["Order #",s.order_number]}),e.jsxs("h2",{className:"underline",style:{fontSize:"14pt",fontWeight:"bold",marginBottom:"12px"},children:["Agent: ",s.user.name]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("h2",{className:"underline",style:{fontSize:"14pt",fontWeight:"bold",marginBottom:"12px"},children:["Customer: ",s.customers.first_name," ",s.customers.last_name]}),e.jsxs("h2",{className:"underline",style:{fontSize:"14pt",fontWeight:"bold",marginBottom:"12px"},children:["Status:",s.status]})]}),e.jsx("div",{className:"flex justify-between",children:e.jsxs("h2",{className:"underline",style:{fontSize:"14pt",fontWeight:"bold",marginBottom:"12px"},children:["Telephone or Mobile #: ",s.customers.phone]})}),e.jsx("div",{className:"bg-black w-full flex justify-center items-center text-white text-4xl",children:e.jsx("h1",{className:"mb-8",children:s.warehouse.name})}),e.jsx("div",{className:"border border-black w-full mt-2 flex justify-center items-center text-xl",children:e.jsx("h1",{className:"mb-4",children:"ORDER DETAILS"})}),e.jsx("hr",{style:{margin:"12px 0",border:"1px solid #000"}}),e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{borderBottom:"1px solid #000",padding:"4px 0",textAlign:"left"},children:"SKU"}),e.jsx("th",{style:{borderBottom:"1px solid #000",padding:"4px 0",textAlign:"left"},children:"Items"}),e.jsx("th",{style:{borderBottom:"1px solid #000",padding:"4px 0",textAlign:"center"},children:"Qty"})]})}),e.jsx("tbody",{children:s.items.map((r,n)=>e.jsxs("tr",{className:"text-lg",children:[e.jsx("td",{style:{padding:"4px 0",borderBottom:"1px solid #000",textAlign:"center"},children:r.product_variant.sku}),e.jsxs("td",{style:{padding:"4px 0",borderBottom:"1px solid #000"},children:[r.product_variant.product.product_name," ",r.product_variant.colors.color_name," SIZE ",parseInt(r.product_variant.size_values.size_values)," IN ",r.product_variant.heel_heights.value," "," INCHES"]}),e.jsx("td",{style:{padding:"4px 0",borderBottom:"1px solid #000",textAlign:"center"},children:r.quantity})]},n))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"bg-black w-full flex justify-center items-center text-white",children:e.jsx("h1",{className:"mb-4",children:"CUSTOMER DETAILS"})}),e.jsxs("h2",{className:"underline",style:{fontSize:"14pt",fontWeight:"bold"},children:["Receiver: ",s.customers.phone]}),e.jsxs("h2",{className:"underline",style:{fontSize:"14pt",fontWeight:"bold"},children:["Telephone or Mobile #: ",s.customers.phone]}),e.jsxs("h2",{className:"underline",style:{fontSize:"14pt",fontWeight:"bold"},children:["Address: ",s.customers.address]})]})]}),e.jsx("div",{style:{marginTop:"16px",textAlign:"center"},children:e.jsx("button",{onClick:i,style:{backgroundColor:"#000",color:"#fff",padding:"8px 16px",borderRadius:"4px",border:"none",cursor:"pointer"},children:"Download PDF"})})]})})},T=({sales_orders:a})=>{const[s,d]=l.useState(""),[i,r]=l.useState(""),[n,o]=l.useState(""),[x,b]=l.useState(""),[h,j]=l.useState(""),[m,p]=l.useState(null),g=()=>{u.visit("/inventory_orders",{method:"get",data:{trackingNumber:i,status:n,search:s,fromDate:x,toDate:h},preserveState:!0,preserveScroll:!0})},y=t=>{p(t)},f=()=>{p(null)};return l.useEffect(()=>{console.log(a)},[]),e.jsxs(w,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Sales Orders"}),children:[e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden bg-white shadow-md rounded-lg",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"container mx-auto p-6",children:[e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsx("h1",{className:"text-2xl font-bold",children:"Sales Order"})}),e.jsxs("div",{className:"col-span-3 mb-4 grid grid-cols-1 gap-3 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-6",children:[e.jsxs("select",{value:n||"",className:"rounded-md border p-2 shadow-sm focus:outline-none",onChange:t=>o(t.target.value),children:[e.jsx("option",{value:"",children:"Status"}),e.jsx("option",{value:"paid",children:"Paid"}),e.jsx("option",{value:"preparing",children:"Preparing"}),e.jsx("option",{value:"shipped",children:"Shipped"}),e.jsx("option",{value:"delivered",children:"Delivered"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"From Date:"}),e.jsx("input",{type:"date",value:x,onChange:t=>b(t.target.value),className:"border rounded p-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"To Date:"}),e.jsx("input",{type:"date",value:h,onChange:t=>j(t.target.value),className:"border rounded p-2"})]}),e.jsx("button",{onClick:g,className:"bg-blue-500 text-white px-4 py-2 rounded shadow hover:bg-blue-600",children:"Filter"})]}),e.jsx("input",{type:"text",placeholder:"Search for Order Number, Customer Name, Tracking #",className:"w-full rounded-md border p-2 mb-2",value:s,onChange:t=>d(t.target.value)}),e.jsxs("table",{className:"w-full table-auto border-collapse border border-gray-300",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100",children:[e.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"#"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Order #"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Client Name"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Tracking #"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Status"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Total Cost"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Payment"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Action"})]})}),e.jsx("tbody",{children:a.data.map((t,c)=>e.jsxs("tr",{children:[e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:c+1}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:t.order_number}),e.jsxs("td",{className:"border border-gray-300 px-4 py-2",children:[t.customers.first_name," ",t.customers.last_name]}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:t.tracking_number?t.tracking_number:"No Tracking # added yet."}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:t.status}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:t.grand_amount}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:t.payments.reduce((N,v)=>N+parseFloat(v.amount_paid,2),0).toFixed(2)}),e.jsxs("td",{className:"border border-gray-300 px-6 py-3 space-x-2",children:[e.jsx(S,{href:`/inventory_orders/${t.id}`,className:"text-emerald-500 hover:underline",children:"View"}),e.jsx("button",{onClick:()=>y(t),className:"p-2 rounded-xl text-red-500 hover:underline",children:"Print"})]})]},t.id))})]}),a.links&&e.jsx("div",{className:"mt-4 flex justify-center",children:a.links.map((t,c)=>e.jsx("button",{onClick:()=>{t.url&&u.visit(t.url,{preserveState:!0,preserveScroll:!0})},className:`mx-1 px-3 py-1 border rounded ${t.active?"bg-blue-500 text-white":"bg-white text-blue-500"}`,dangerouslySetInnerHTML:{__html:t.label}},c))})]})})})})}),m&&e.jsx(C,{order:m,onClose:f})]})};export{T as default};
